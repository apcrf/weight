# weight
Контроль веса пользователя.  
Вывод средних данных за любой интервал, с нужным уровнем детализации.  

Примеры запуска скрипта  
http://localhost/weight/app/weight.php  
http://localhost/weight/app/weight.php?date_start=2019-02-01  
http://localhost/weight/app/weight.php?detalization=week  
http://localhost/weight/app/weight.php?date_start=2019-02-01&date_end=2019-12-10&detalization=month  

Скрипт возвращает JSON  
в зависимости от параметра detalization  

detalization=day (day - значение по умолчанию)  
Дата Y-m-d, средний вес  

detalization=week  
Год-номер_недели_в_году, средний вес  

detalization=month  
Год-номер_месяца_в_году, средний вес  


1. Исходные данные:  
1.1. Есть программа контроля веса пользователя  
1.2. Есть база данных  
1.2.1. Записи могут вестись не регулярно  
1.3. Задача – вывести усредненные данные за любой интервал, с нужным уровнем детализации  
1.4. Параметры (опциональные)  
1.4.1. date_start  
1.4.2. date_end  
1.4.3. detalization  
1.4.3.1. set of (day, week, month)  
1.5. Данные будут использоваться в highcharts  

2. Требования по коду  
2.1. Psr  
2.2. Phpdoc  
2.3. Хорошая декомпозиция на функции  

3. Библиотеки  
3.1. monolog (для логов действий)  
3.2. fluentpdo  
3.3. monolog-fluentd (sentry) для stacktrace  
3.4. composer для зависимостей  

4. Git  
4.1. Структуру репозитария (папки)  
4.1.1. app  
4.1.1.1. Само приложение со всеми зависимостями  
4.1.2. devops  
4.1.2.1. readme.md = описание окружения и версий  
4.1.2.1.1. к примеру: php >= 5.4  
4.1.3. docs  
4.1.3.1. Документация (md)  
4.2. Коммиты  
4.2.1. Многострочные  
4.2.2. Первая строчка: коротко суть  
4.2.3. Пропуск  
4.2.4. Подробное описание  

5. Задание  
5.1. База данных ( mysql )  
5.1.1. Минимальные поля:  
5.1.1.1. weight_date  
5.1.1.2. weight_value ( в граммах )  
5.1.1.3. остальные на усмотрение  
5.2. Общий алгоритм  
5.2.1. Получаем данные за нужный интервал  
5.2.1.1. по умолчанию: все  
5.2.2. Нормализируем данные  
5.2.2.1. Варианты:  
5.2.2.1.1. По дням  
5.2.2.1.2. По неделям  
5.2.2.1.3. По месяцам  
5.2.3. Отдаем json  

6. Тестирование  
6.1. На усмотрение исполнителя  
